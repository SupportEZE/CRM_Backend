# CRM-Backend


ssh -i /home/shanumalik/Downloads/works_development.pem -p 34724 ec2-user@43.204.204.109
ssh -i /home/shanumalik/Downloads/production_server_key.pem -p 6914 ec2-user@52.66.51.37


when we create org 
mension is_order true for price config


{
  user_id: new ObjectId('6821ec4635929726ed7f0e63'),
  attend_date: {
    '$gte': ISODate("2025-05-12T18:30:00.000Z"),
    '$lte': ISODate("2025-05-13T18:29:59.999Z")
  },
  activity_type: { '$exists': true }
}

{
  user_id: new ObjectId('67d870c44797943431513418'),
  attend_date: {
    '$gte': ISODate("2025-05-13T18:30:00.000Z"),
    '$lte': ISODate("2025-05-14T18:29:59.999Z")
  },
  activity_type: { '$exists': true }
}





2. remove shared service from main project - high - shanu
4. move heavy storage table -high - shanu
5. apply encyption on mobile number in user and customer - high - shanu

1. s3 service move - high - vikas
7. how to stop delete action of indivtial collection - high - vikas
3. fix form id and table id  - high - vikas
9. when cntr shift are .hraccess prodblem - high - vikas


5. token should be diff of production and development - middium
6. start encrpy of request response in production - - middium
8. env encyprt and use  - low,

backgroud all collection should be in own db




###
Stock audit

customer list m lead customer not allow - app-customer/customers-assignto-user


### 

save beat plan meesage

sho right visit and percenatge of Beat code in app 


### Web Point

### payment collection user login
add button not coming
created coloumns not filter coming 
show image section in payment detail
admin should have right to change payment status
status column will not come in list
when we create payment from web payment date should not be in future date
in mode online should ask transaction_id
save button not working


### pop gift list 

percaentage coming wrong in main tabs
when i create pop gift listing not coming instent
filter should come in user list when we assign pop gift to user
pop gift filters 

### Ticket List

customer type and user detail not coming in list and detail
on click on dropdown config modal option but there is no option to close
row_id not coming on comment tab in detail of ticket when i reswitch
add ticket not working

### event plan

when we we create event date should be future date
disscuss about evnet vanue is optional or not 
customer_type_name and customer_name not ocming in event create api

listing -

customer detail not coming in list
Request: ₹ 1000/Per to Request: ₹ 1000/Person

detail - 

image not open on click
add participent mobile number should be string with length validation
user can not change status him self
fix expense functionaly as per expense 
when expense create from app not showing proper on detail
admin should have to right to change status of event


### branding

issue in change status log api
search not working in branding audit
reject and complete and approved request kaha dikhengi in branding request
after creating a branding request redirect to 404

### site list

log api not working
created_at filter api not wokring

detail  -
add contact 
Competitor Analysis in detail in value true false coming
mobile number limit
Competitor 1: changed from false to true - please think
Point Location save nhi kr pa rhe 
if i am selecting stage 4 auto check privious


### Backend point
when user send gift to customer same gift exist in array - done
reason should be optional in case of request approve(brand request) -done
remark not ocming proper in popgift detail - done
create brand audit and request id - done
expense data should not visivle in event until submited - done

data come user wise in user login web of event

fix error meesage of pop gift web - lal - done

Event Overview discussion pending

paymnet full image not coming proper in app - done
in dropdown management compitors comig 4 and add page 2
give image on branding audit and comptir
### when we create new counter visit 
user name should come in assigning


location
logs
api_logs
form_logs


preciousDB



in progress or pending yellow
complete - green

stock tranfer message - mayank

1. i assign customer module 



List of all event plan is showing on fresh user - done
Bad request in request call back - done
In event plan in approved tab pending events are showing . - done
Ek beat code user ko phi assign hai or customer ko phi assign vo customer user k checkin list main bhi show kr h. But vo customer user ko assign hi hai too vo show nahi hon chahiye

Someone else order is showing in new distributer - need _id (customer id) from frontend
All types of status is showing order data for a fresh distributer, retailer - need _id (customer id) from frontend
Distributer Acc section data of fresh user is showing wrong ( distributer, retailer and other types of customers all submodules showing full data of others also )
Social engagement wrong data showing (last visit, primary sale , secondary network …etc )


user upload

1. first use crm_users_temp and crm_user_hierarchy_temp
2. run function without type in body for user insert
3. run same function with type mapping for reporting manager mapping i will provide curl



app points 

give enum for visit start planed_date - done
user profile data - done
home stats of user - done
expense not saving - not a bug
leave balance not deduct - done
retail count checkin - done


web 

in dropdwon do assign_brand to brand - done
pincode sreach in customer list - done
leave policy filer - already done 
think leave policy not definde on list
product_code and name length remove from form - vikas sir - done
sales user loin user moudle not showing - curl - done
assign team litsing to showing in user detail - done

user m acount type filter - will be remove from listing

sort in A to Z
dropdown management  - done
state -   done
distict - done 
customer - done
users -   done

